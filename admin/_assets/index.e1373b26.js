let e=document.createElement("style");e.innerHTML=".lock-page[data-v-325cd140]{position:fixed;top:0;left:0;z-index:999999;display:-webkit-box;display:-ms-flexbox;display:flex;width:100vw;height:100vh;background:url(/_assets/lock-page.d85302ad.jpg) 0 0/100% 100% no-repeat;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.lock-page__entry[data-v-325cd140]{position:relative;width:400px;padding:80px 50px 50px;margin-right:50px;background:#fff;border-radius:6px}.lock-page__header[data-v-325cd140]{position:absolute;top:-35px;left:calc(50% - 45px);width:auto;text-align:center}.lock-page__header-img[data-v-325cd140]{width:70px;border-radius:50%}.lock-page__header-name[data-v-325cd140]{margin-top:5px}.lock-page__footer[data-v-325cd140]{text-align:center}",document.head.appendChild(e);import{d as a,h as t,Y as o,c as s,k as l,a6 as n,r,o as c,p as d,q as i,s as p,a as g,b as u,w as f,z as k,v as m,x as _,y as x}from"./index.5b397b81.js";import{A as y,B as v,u as h}from"./index.f0b9f698.js";var b="/_assets/logo.6cf27c55.jpg",w=a({name:"LockPage",components:{Alert:y,BasicForm:v},setup(){const e=t(!1),a=t(!1),{t:r}=o("sys.lock"),[c,{validateFields:d}]=h({showActionButtonGroup:!1,schemas:[{field:"password",label:"",component:"InputPassword",componentProps:{style:{width:"100%"},placeholder:r("placeholder")},rules:[{required:!0}]}]}),i=s((()=>{const{realName:e}=l.getUserInfoState||{};return e}));return{register:c,getIsNotPwd:s((()=>!n.getLockInfo||void 0===n.getLockInfo.pwd)),goLogin:function(){l.loginOut(!0),n.resetLockInfo()},realName:i,unLock:async function(t=!0){let o="";if(t)try{o=(await d()).password}catch(e){return}try{e.value=!0;const s=await n.unLockAction({password:o,valid:t});a.value=!s}finally{e.value=!1}},errMsgRef:a,loadingRef:e,t:r}}});const L={class:"lock-page"},I={class:"lock-page__entry"},j={class:"lock-page__header"},N=(e=>(_("data-v-325cd140"),e=e(),x(),e))((()=>i("img",{src:"/_assets/logo.6cf27c55.jpg",class:"lock-page__header-img"},null,-1))),P={class:"lock-page__header-name"},R={class:"lock-page__footer"};w.render=function(e,a,t,o,s,l){const n=r("BasicForm"),_=r("Alert"),x=r("a-button");return c(),d("div",L,[i("div",I,[i("div",j,[N,i("p",P,p(e.realName),1)]),e.getIsNotPwd?u("",!0):(c(),g(n,{key:0,onRegister:e.register},null,8,["onRegister"])),e.errMsgRef?(c(),g(_,{key:1,type:"error",message:e.t("alert"),banner:""},null,8,["message"])):u("",!0),i("div",R,[e.getIsNotPwd?u("",!0):(c(),g(x,{key:0,type:"default",class:"mt-2 mr-2",onClick:e.goLogin},{default:f((()=>[k(p(e.t("sys.lock.backToLogin")),1)])),_:1},8,["onClick"])),m(x,{type:"primary",class:"mt-2",onClick:a[0]||(a[0]=a=>e.unLock(!e.getIsNotPwd)),loading:e.loadingRef},{default:f((()=>[k(p(e.t("sys.lock.entry")),1)])),_:1},8,["loading"])])])])},w.__scopeId="data-v-325cd140";var A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:w});export{b as _,A as i,w as s};
